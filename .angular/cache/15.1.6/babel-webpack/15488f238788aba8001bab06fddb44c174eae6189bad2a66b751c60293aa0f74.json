{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/productos.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"ngx-pagination\";\nimport * as i4 from \"./consultarprod/consultarprod.component\";\nimport * as i5 from \"./agregarprod/agregarprod.component\";\nimport * as i6 from \"../../../pipe/buscar.pipe\";\nimport * as i7 from \"../../../pipe/estatus.pipe\";\nfunction ProductosComponent_tr_68_td_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\");\n    i0.ɵɵelement(1, \"img\", 30);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductosComponent_tr_68_ng_template_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 31);\n  }\n  if (rf & 2) {\n    const producto_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵpropertyInterpolate(\"src\", producto_r1.imagen, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction ProductosComponent_tr_68_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"td\");\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"td\");\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(21, ProductosComponent_tr_68_td_21_Template, 2, 0, \"td\", 25);\n    i0.ɵɵtemplate(22, ProductosComponent_tr_68_ng_template_22_Template, 1, 1, \"ng-template\", null, 26, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementStart(24, \"td\")(25, \"button\", 27);\n    i0.ɵɵlistener(\"click\", function ProductosComponent_tr_68_Template_button_click_25_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const producto_r1 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.consultarProd(producto_r1.codigo));\n    });\n    i0.ɵɵelementStart(26, \"i\", 28)(27, \"span\", 29);\n    i0.ɵɵtext(28, \"Ver detalle\");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const producto_r1 = ctx.$implicit;\n    const _r3 = i0.ɵɵreference(23);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(producto_r1.codigo);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(producto_r1.nombre);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(producto_r1.noParte);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(producto_r1.proveedores);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(producto_r1.tipo);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(producto_r1.categoria);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(producto_r1.descripcion);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(producto_r1.unidad);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(producto_r1.precio);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(producto_r1.existencia);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !producto_r1.imagen)(\"ngIfElse\", _r3);\n  }\n}\nconst _c0 = function (a0, a1) {\n  return {\n    itemsPerPage: a0,\n    currentPage: a1\n  };\n};\nexport class ProductosComponent {\n  constructor(ServicePro) {\n    this.ServicePro = ServicePro;\n    this.productos = [];\n    this.producto = {\n      codigo: '',\n      nombre: '',\n      noParte: '',\n      proveedores: '',\n      tipo: '',\n      categoria: '',\n      descripcion: '',\n      unidad: '',\n      precio: '',\n      existencia: '',\n      imagen: ''\n    };\n    this.p = 1;\n    this.nPag = 0;\n    this.buscarTexto = '';\n    this.buscarEstatus = '';\n  } //Cierre del constructor\n  ngOnInit() {\n    this.consultarTodoProd();\n  }\n  consultarTodoProd() {\n    this.ServicePro.consultarTodo().subscribe(res => {\n      this.productos = res;\n    });\n  }\n  consultarProd(codigo) {\n    this.ServicePro.consultar(codigo).subscribe(res => {\n      this.ServicePro.producto.codigo = res.prod.codigo;\n      this.ServicePro.producto.nombre = res.prod.nombre;\n      this.ServicePro.producto.noParte = res.prod.noParte;\n      this.ServicePro.producto.proveedores = res.prod.proveedores;\n      this.ServicePro.producto.tipo = res.prod.tipo;\n      this.ServicePro.producto.categoria = res.prod.categoria;\n      this.ServicePro.producto.descripcion = res.prod.descripcion;\n      this.ServicePro.producto.unidad = res.prod.unidad;\n      this.ServicePro.producto.precio = res.prod.precio;\n      this.ServicePro.producto.existencia = res.prod.existencia;\n      this.ServicePro.producto.imagen = res.prod.imagen;\n    }, err => {\n      console.log(err);\n      if (typeof err.error === 'string') {\n        alert(err.error);\n      } else {\n        alert(err.error.error[0].msg);\n      }\n      this.limpiarProdServicio();\n    });\n  }\n  eliminarProd(codigo) {\n    this.ServicePro.eliminar(codigo).subscribe(res => {\n      this.consultarTodoProd();\n    }, err => {\n      console.log(err);\n      if (typeof err.error === 'string') {\n        alert(err.error);\n      } else {\n        alert(err.error.error[0].msg);\n      }\n    });\n  }\n  limpiarProdServicio() {\n    this.ServicePro.producto.codigo = '';\n    this.ServicePro.producto.nombre = '';\n    this.ServicePro.producto.noParte = '';\n    this.ServicePro.producto.proveedores = '';\n    this.ServicePro.producto.tipo = '';\n    this.ServicePro.producto.categoria = '';\n    this.ServicePro.producto.descripcion = '';\n    this.ServicePro.producto.unidad = '';\n    this.ServicePro.producto.precio = '';\n    this.ServicePro.producto.existencia = '';\n    this.ServicePro.producto.imagen = '';\n  }\n  limpiarProd() {\n    this.producto.codigo = '';\n    this.producto.nombre = '';\n    this.producto.noParte = '';\n    this.producto.proveedores = '';\n    this.producto.tipo = '';\n    this.producto.categoria = '';\n    this.producto.descripcion = '';\n    this.producto.unidad = '';\n    this.producto.precio = '';\n    this.producto.existencia = '';\n    this.producto.imagen = '';\n  } //Cierre del metodo limpiarEmp\n}\nProductosComponent.ɵfac = function ProductosComponent_Factory(t) {\n  return new (t || ProductosComponent)(i0.ɵɵdirectiveInject(i1.ProductosService));\n};\nProductosComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductosComponent,\n  selectors: [[\"app-productos\"]],\n  decls: 73,\n  vars: 13,\n  consts: [[1, \"container\"], [1, \"d-flex\", \"justify-content-between\", \"flex-wrap\", \"flex-md-nowrap\", \"align-items-center\", \"pt-3\", \"pb-2\", \"mb-3\", \"border-bottom\"], [1, \"h2\"], [\"id\", \"iconoComponente\", 1, \"fas\", \"fa-box\", 2, \"font-size\", \"50px\", \"color\", \"rgb(0, 130, 198)\", \"padding\", \"0 20px\"], [1, \"btn-toolbar\", \"mb-2\", \"mb-md-0\"], [\"type\", \"button\", \"id\", \"btnAgregar\", \"data-toggle\", \"modal\", \"data-target\", \"#exampleModal\", 1, \"btn\"], [1, \"fas\", \"fa-plus\"], [\"id\", \"exampleModal\", \"tabindex\", \"-1\", \"aria-labelledby\", \"exampleModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\", \"modal-xl\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"exampleModalLabel\", 1, \"modal-title\"], [1, \"fas\", \"fa-box-open\", 2, \"font-size\", \"50px\", \"color\", \"rgb(0, 130, 198)\", \"padding\", \"0 20px\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"close\"], [\"aria-hidden\", \"true\"], [1, \"modal-body\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\"], [\"id\", \"consultarModal\", \"tabindex\", \"-1\", \"aria-labelledby\", \"exampleModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [1, \"table-responsive-xl\"], [1, \"table\"], [1, \"thead-dark\"], [1, \"\"], [4, \"ngFor\", \"ngForOf\"], [\"previousLabel\", \"Anterior\", \"nextLabel\", \"Siguiente\", 3, \"pageChange\"], [4, \"ngIf\", \"ngIfElse\"], [\"otraimg\", \"\"], [\"type\", \"button\", \"data-toggle\", \"modal\", \"data-target\", \"#consultarModal\", 1, \"btn\", \"detalle-btn\", 2, \"border\", \"none\", \"background-color\", \"none\", 3, \"click\"], [1, \"fas\", \"fa-eye\", 2, \"color\", \"rgb(0, 89, 148)\", \"position\", \"relative\"], [1, \"detalle-text\"], [\"src\", \"http://localhost:3000/foto/defaultproduct.png\", \"alt\", \"Imagen del producto\", \"width\", \"50px\", \"height\", \"50px\", 2, \"border-radius\", \"20px\"], [\"alt\", \"Imagen del producto\", \"width\", \"100px\", \"height\", \"100px\", 2, \"border-radius\", \"20px\", 3, \"src\"]],\n  template: function ProductosComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\", 2);\n      i0.ɵɵelement(3, \"i\", 3);\n      i0.ɵɵtext(4, \" Productos \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\", 4)(6, \"button\", 5);\n      i0.ɵɵelement(7, \"i\", 6);\n      i0.ɵɵtext(8, \" Agregar \");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(9, \"div\", 7)(10, \"div\", 8)(11, \"div\", 9)(12, \"div\", 10)(13, \"h2\", 11);\n      i0.ɵɵelement(14, \"i\", 12);\n      i0.ɵɵtext(15, \" Agregar Producto \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"button\", 13)(17, \"span\", 14);\n      i0.ɵɵtext(18, \"\\u00D7\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(19, \"div\", 15);\n      i0.ɵɵelement(20, \"app-agregarprod\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"div\", 16)(22, \"button\", 17);\n      i0.ɵɵtext(23, \" Cerrar \");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(24, \"div\", 18)(25, \"div\", 8)(26, \"div\", 9)(27, \"div\", 10)(28, \"h2\", 11);\n      i0.ɵɵtext(29, \" Detalle del producto \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"button\", 13)(31, \"span\", 14);\n      i0.ɵɵtext(32, \"\\u00D7\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(33, \"div\", 15);\n      i0.ɵɵelement(34, \"app-consultarprod\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(35, \"div\", 16)(36, \"button\", 17);\n      i0.ɵɵtext(37, \" Cerrar \");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelement(38, \"hr\");\n      i0.ɵɵelementStart(39, \"div\", 19)(40, \"table\", 20)(41, \"thead\", 21)(42, \"tr\")(43, \"th\", 22);\n      i0.ɵɵtext(44, \"#\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(45, \"th\", 22);\n      i0.ɵɵtext(46, \"Nombre\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(47, \"th\", 22);\n      i0.ɵɵtext(48, \"No. de Parte\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(49, \"th\", 22);\n      i0.ɵɵtext(50, \"Proveedor\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(51, \"th\", 22);\n      i0.ɵɵtext(52, \"Tipo\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(53, \"th\", 22);\n      i0.ɵɵtext(54, \"Categor\\u00EDa\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(55, \"th\", 22);\n      i0.ɵɵtext(56, \"Descripci\\u00F3n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(57, \"th\", 22);\n      i0.ɵɵtext(58, \"Unidad\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(59, \"th\", 22);\n      i0.ɵɵtext(60, \"Precio\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(61, \"th\", 22);\n      i0.ɵɵtext(62, \"Existencia\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(63, \"th\", 22);\n      i0.ɵɵtext(64, \"Imagen\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(65, \"th\", 22);\n      i0.ɵɵtext(66, \"Acciones\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(67, \"tbody\");\n      i0.ɵɵtemplate(68, ProductosComponent_tr_68_Template, 29, 12, \"tr\", 23);\n      i0.ɵɵpipe(69, \"paginate\");\n      i0.ɵɵpipe(70, \"estatus\");\n      i0.ɵɵpipe(71, \"buscar\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(72, \"pagination-controls\", 24);\n      i0.ɵɵlistener(\"pageChange\", function ProductosComponent_Template_pagination_controls_pageChange_72_listener($event) {\n        return ctx.p = $event;\n      });\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(68);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(69, 1, i0.ɵɵpipeBind2(70, 4, i0.ɵɵpipeBind2(71, 7, ctx.productos, ctx.buscarTexto), ctx.buscarEstatus), i0.ɵɵpureFunction2(10, _c0, ctx.nPag, ctx.p)));\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.PaginationControlsComponent, i4.ConsultarprodComponent, i5.AgregarprodComponent, i3.PaginatePipe, i6.BuscarPipe, i7.EstatusPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","ProductosComponent","constructor","ServicePro","codigo","nombre","noParte","proveedores","tipo","categoria","descripcion","unidad","precio","existencia","imagen","ngOnInit","consultarTodoProd","consultarTodo","subscribe","res","productos","consultarProd","consultar","producto","prod","err","console","log","error","alert","msg","limpiarProdServicio","eliminarProd","eliminar","limpiarProd","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\Daniel Marin\\Proyecto Angular\\netline\\src\\app\\private\\almacen\\productos\\productos.component.html","C:\\Users\\Daniel Marin\\Proyecto Angular\\netline\\src\\app\\private\\almacen\\productos\\productos.component.ts"],"sourcesContent":["<div class=\"container\">\n    <div\n        class=\"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom\">\n        <h1 class=\"h2\">\n            <i id=\"iconoComponente\" class=\"fas fa-box\"\n                style=\"font-size: 50px; color: rgb(0, 130, 198); padding: 0 20px\"></i>\n            Productos\n        </h1>\n        <div class=\"btn-toolbar mb-2 mb-md-0\">\n            <button type=\"button\" class=\"btn\" id=\"btnAgregar\" data-toggle=\"modal\" data-target=\"#exampleModal\">\n                <i class=\"fas fa-plus\"></i>\n                Agregar\n            </button>\n        </div>\n    </div>\n\n    <div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n        <div class=\"modal-dialog modal-xl\">\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                    <h2 class=\"modal-title\" id=\"exampleModalLabel\">\n                        <i class=\"fas fa-box-open\"\n                            style=\"font-size: 50px; color: rgb(0, 130, 198); padding: 0 20px\"></i>\n                        Agregar Producto\n                    </h2>\n                    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                        <span aria-hidden=\"true\">&times;</span>\n                    </button>\n                </div>\n                <div class=\"modal-body\">\n                    <app-agregarprod></app-agregarprod>\n                </div>\n                <div class=\"modal-footer\">\n                    <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">\n                        Cerrar\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"modal fade\" id=\"consultarModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n        <div class=\"modal-dialog modal-xl\">\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                    <h2 class=\"modal-title\" id=\"exampleModalLabel\">\n                        Detalle del producto\n                    </h2>\n                    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                        <span aria-hidden=\"true\">&times;</span>\n                    </button>\n                </div>\n                <div class=\"modal-body\">\n                    <app-consultarprod></app-consultarprod>\n                </div>\n                <div class=\"modal-footer\">\n                    <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">\n                        Cerrar\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <hr />\n\n    <div class=\"table-responsive-xl\">\n        <table class=\"table\">\n            <thead class=\"thead-dark\">\n                <tr>\n                    <th class=\"\">#</th>\n                    <th class=\"\">Nombre</th>\n                    <th class=\"\">No. de Parte</th>\n                    <th class=\"\">Proveedor</th>\n                    <th class=\"\">Tipo</th>\n                    <th class=\"\">Categoría</th>\n                    <th class=\"\">Descripción</th>\n                    <th class=\"\">Unidad</th>\n                    <th class=\"\">Precio</th>\n                    <th class=\"\">Existencia</th>\n                    <th class=\"\">Imagen</th>\n                    <th class=\"\">Acciones</th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr *ngFor=\"let producto of productos | buscar:buscarTexto |estatus:buscarEstatus | paginate: { itemsPerPage: nPag, currentPage: p }\">\n                    <td>{{ producto.codigo }}</td>\n                    <td>{{ producto.nombre }}</td>\n                    <td>{{ producto.noParte }}</td>\n                    <td>{{ producto.proveedores }}</td>\n                    <td>{{ producto.tipo }}</td>\n                    <td>{{ producto.categoria }}</td>\n                    <td>{{ producto.descripcion }}</td>\n                    <td>{{ producto.unidad }}</td>\n                    <td>{{ producto.precio }}</td>\n                    <td>{{ producto.existencia }}</td>\n                    <td *ngIf=\"!producto.imagen; else otraimg\">\n                        <img src=\"http://localhost:3000/foto/defaultproduct.png\" alt=\"Imagen del producto\" width=\"50px\"\n                            height=\"50px\" style=\"border-radius: 20px\" />\n                    </td>\n                    <ng-template #otraimg>\n                        <img src=\"{{ producto.imagen }}\" alt=\"Imagen del producto\" width=\"100px\" height=\"100px\"\n                            style=\"border-radius: 20px\" />\n                    </ng-template>\n                    <td>\n                        <button type=\"button\" class=\"btn detalle-btn\" style=\"border: none; background-color: none\"\n                            data-toggle=\"modal\" data-target=\"#consultarModal\" (click)=\"consultarProd(producto.codigo)\">\n                            <i style=\"color: rgb(0, 89, 148); position: relative\" class=\"fas fa-eye\">\n                                <span class=\"detalle-text\">Ver detalle</span>\n                            </i>\n                        </button>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n        <pagination-controls (pageChange)=\"p = $event\" previousLabel=\"Anterior\"\n            nextLabel=\"Siguiente\"></pagination-controls>\n    </div>\n</div>","import { Component } from '@angular/core';\nimport { ProductosService } from 'src/app/services/productos.service';\n\n@Component({\n  selector: 'app-productos',\n  templateUrl: './productos.component.html',\n  styleUrls: ['./productos.component.css']\n})\nexport class ProductosComponent {\n  constructor(private ServicePro: ProductosService) { } //Cierre del constructor\n  file: any;\n  productos: any = [];\n  producto = {\n    codigo: '',\n    nombre: '',\n    noParte: '',\n    proveedores: '',\n    tipo: '',\n    categoria: '',\n    descripcion: '',\n    unidad: '',\n    precio: '',\n    existencia: '',\n    imagen: '',\n  };\n\n  p: number = 1;\n  nPag: number = 0;\n  buscarTexto = '';\n  buscarEstatus = '';\n\n  ngOnInit(): void {\n    this.consultarTodoProd();\n  }\n\n  consultarTodoProd() {\n    this.ServicePro.consultarTodo().subscribe((res: any) => {\n      this.productos = res;\n    });\n  }\n\n  consultarProd(codigo: string) {\n    this.ServicePro.consultar(codigo).subscribe(\n      (res) => {\n        this.ServicePro.producto.codigo = res.prod.codigo;\n        this.ServicePro.producto.nombre = res.prod.nombre;\n        this.ServicePro.producto.noParte = res.prod.noParte;\n        this.ServicePro.producto.proveedores = res.prod.proveedores;\n        this.ServicePro.producto.tipo = res.prod.tipo;\n        this.ServicePro.producto.categoria = res.prod.categoria;\n        this.ServicePro.producto.descripcion = res.prod.descripcion;\n        this.ServicePro.producto.unidad = res.prod.unidad;\n        this.ServicePro.producto.precio = res.prod.precio;\n        this.ServicePro.producto.existencia = res.prod.existencia;\n        this.ServicePro.producto.imagen = res.prod.imagen;\n      },\n      (err) => {\n        console.log(err);\n        if (typeof err.error === 'string') {\n          alert(err.error);\n        } else {\n          alert(err.error.error[0].msg);\n        }\n        this.limpiarProdServicio();\n      }\n    );\n  }\n\n  eliminarProd(codigo: string) {\n    this.ServicePro.eliminar(codigo).subscribe(\n      (res) => {\n        this.consultarTodoProd();\n      },\n      (err) => {\n        console.log(err);\n        if (typeof err.error === 'string') {\n          alert(err.error);\n        } else {\n          alert(err.error.error[0].msg);\n        }\n      }\n    );\n  }\n\n  limpiarProdServicio() {\n    this.ServicePro.producto.codigo = '';\n    this.ServicePro.producto.nombre = '';\n    this.ServicePro.producto.noParte = '';\n    this.ServicePro.producto.proveedores = '';\n    this.ServicePro.producto.tipo = '';\n    this.ServicePro.producto.categoria = '';\n    this.ServicePro.producto.descripcion = '';\n    this.ServicePro.producto.unidad = '';\n    this.ServicePro.producto.precio = '';\n    this.ServicePro.producto.existencia = '';\n    this.ServicePro.producto.imagen = '';\n  }\n\n  limpiarProd() {\n    this.producto.codigo = '';\n    this.producto.nombre = '';\n    this.producto.noParte = '';\n    this.producto.proveedores = '';\n    this.producto.tipo = '';\n    this.producto.categoria = '';\n    this.producto.descripcion = '';\n    this.producto.unidad = '';\n    this.producto.precio = '';\n    this.producto.existencia = '';\n    this.producto.imagen = '';\n  } //Cierre del metodo limpiarEmp\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}