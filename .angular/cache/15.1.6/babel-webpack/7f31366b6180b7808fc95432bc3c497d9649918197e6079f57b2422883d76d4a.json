{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/productos.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"ngx-pagination\";\nimport * as i5 from \"./consultarprod/consultarprod.component\";\nimport * as i6 from \"./agregarprod/agregarprod.component\";\nimport * as i7 from \"../../../pipe/buscar.pipe\";\nfunction ProductosComponent_tr_92_td_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\");\n    i0.ɵɵelement(1, \"img\", 46);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductosComponent_tr_92_ng_template_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 47);\n  }\n  if (rf & 2) {\n    const producto_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵpropertyInterpolate(\"src\", producto_r1.imagen, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction ProductosComponent_tr_92_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"td\");\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"td\");\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(21, ProductosComponent_tr_92_td_21_Template, 2, 0, \"td\", 41);\n    i0.ɵɵtemplate(22, ProductosComponent_tr_92_ng_template_22_Template, 1, 1, \"ng-template\", null, 42, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementStart(24, \"td\")(25, \"button\", 43);\n    i0.ɵɵlistener(\"click\", function ProductosComponent_tr_92_Template_button_click_25_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const producto_r1 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.consultarProd(producto_r1.codigo));\n    });\n    i0.ɵɵelementStart(26, \"i\", 44)(27, \"span\", 45);\n    i0.ɵɵtext(28, \"Ver detalle\");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const producto_r1 = ctx.$implicit;\n    const _r3 = i0.ɵɵreference(23);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(producto_r1.codigo);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(producto_r1.nombre);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(producto_r1.noParte);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(producto_r1.proveedores);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(producto_r1.tipo);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(producto_r1.categoria);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(producto_r1.descripcion);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(producto_r1.unidad);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(producto_r1.precio);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(producto_r1.existencia);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !producto_r1.imagen)(\"ngIfElse\", _r3);\n  }\n}\nconst _c0 = function (a0, a1) {\n  return {\n    itemsPerPage: a0,\n    currentPage: a1\n  };\n};\nexport class ProductosComponent {\n  constructor(ServicePro) {\n    this.ServicePro = ServicePro;\n    this.productos = [];\n    this.producto = {\n      codigo: '',\n      nombre: '',\n      noParte: '',\n      proveedores: '',\n      tipo: '',\n      categoria: '',\n      descripcion: '',\n      unidad: '',\n      precio: '',\n      existencia: '',\n      imagen: ''\n    };\n    this.p = 1;\n    this.nPag = 0;\n    this.buscarTexto = '';\n    this.buscarEstatus = '';\n  } //Cierre del constructor\n  ngOnInit() {\n    this.consultarTodoProd();\n  }\n  consultarTodoProd() {\n    this.ServicePro.consultarTodo().subscribe(res => {\n      this.productos = res;\n    });\n  }\n  consultarProd(codigo) {\n    this.ServicePro.consultar(codigo).subscribe(res => {\n      this.ServicePro.producto.codigo = res.prod.codigo;\n      this.ServicePro.producto.nombre = res.prod.nombre;\n      this.ServicePro.producto.noParte = res.prod.noParte;\n      this.ServicePro.producto.proveedores = res.prod.proveedores;\n      this.ServicePro.producto.tipo = res.prod.tipo;\n      this.ServicePro.producto.categoria = res.prod.categoria;\n      this.ServicePro.producto.descripcion = res.prod.descripcion;\n      this.ServicePro.producto.unidad = res.prod.unidad;\n      this.ServicePro.producto.precio = res.prod.precio;\n      this.ServicePro.producto.existencia = res.prod.existencia;\n      this.ServicePro.producto.imagen = res.prod.imagen;\n    }, err => {\n      console.log(err);\n      if (typeof err.error === 'string') {\n        alert(err.error);\n      } else {\n        alert(err.error.error[0].msg);\n      }\n      this.limpiarProdServicio();\n    });\n  }\n  eliminarProd(codigo) {\n    this.ServicePro.eliminar(codigo).subscribe(res => {\n      this.consultarTodoProd();\n    }, err => {\n      console.log(err);\n      if (typeof err.error === 'string') {\n        alert(err.error);\n      } else {\n        alert(err.error.error[0].msg);\n      }\n    });\n  }\n  limpiarProdServicio() {\n    this.ServicePro.producto.codigo = '';\n    this.ServicePro.producto.nombre = '';\n    this.ServicePro.producto.noParte = '';\n    this.ServicePro.producto.proveedores = '';\n    this.ServicePro.producto.tipo = '';\n    this.ServicePro.producto.categoria = '';\n    this.ServicePro.producto.descripcion = '';\n    this.ServicePro.producto.unidad = '';\n    this.ServicePro.producto.precio = '';\n    this.ServicePro.producto.existencia = '';\n    this.ServicePro.producto.imagen = '';\n  }\n  limpiarProd() {\n    this.producto.codigo = '';\n    this.producto.nombre = '';\n    this.producto.noParte = '';\n    this.producto.proveedores = '';\n    this.producto.tipo = '';\n    this.producto.categoria = '';\n    this.producto.descripcion = '';\n    this.producto.unidad = '';\n    this.producto.precio = '';\n    this.producto.existencia = '';\n    this.producto.imagen = '';\n  } //Cierre del metodo limpiarEmp\n}\nProductosComponent.ɵfac = function ProductosComponent_Factory(t) {\n  return new (t || ProductosComponent)(i0.ɵɵdirectiveInject(i1.ProductosService));\n};\nProductosComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductosComponent,\n  selectors: [[\"app-productos\"]],\n  decls: 96,\n  vars: 12,\n  consts: [[1, \"container\"], [1, \"d-flex\", \"justify-content-between\", \"flex-wrap\", \"flex-md-nowrap\", \"align-items-center\", \"pt-3\", \"pb-2\", \"mb-3\", \"border-bottom\"], [1, \"h2\"], [\"id\", \"iconoComponente\", 1, \"fas\", \"fa-box\", 2, \"font-size\", \"50px\", \"color\", \"rgb(0, 130, 198)\", \"padding\", \"0 20px\"], [1, \"btn-toolbar\", \"mb-2\", \"mb-md-0\"], [\"type\", \"button\", \"id\", \"btnAgregar\", \"data-toggle\", \"modal\", \"data-target\", \"#exampleModal\", 1, \"btn\"], [1, \"fas\", \"fa-plus\"], [\"id\", \"exampleModal\", \"tabindex\", \"-1\", \"aria-labelledby\", \"exampleModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\", \"modal-xl\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"exampleModalLabel\", 1, \"modal-title\"], [1, \"fas\", \"fa-box-open\", 2, \"font-size\", \"50px\", \"color\", \"rgb(0, 130, 198)\", \"padding\", \"0 20px\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"close\"], [\"aria-hidden\", \"true\"], [1, \"modal-body\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\"], [\"id\", \"consultarModal\", \"tabindex\", \"-1\", \"aria-labelledby\", \"exampleModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [1, \"table-filter\"], [1, \"row\"], [1, \"col-sm-10\"], [1, \"filter-icon\"], [1, \"fa\", \"fa-filter\"], [1, \"filter-group\"], [\"type\", \"text\", \"id\", \"buscarTexto\", \"name\", \"buscarTexto\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"button\", 1, \"btn\", \"btn-info\"], [1, \"fa\", \"fa-search\"], [1, \"col-sm-2\", \"text-right\"], [1, \"show-entries\"], [\"id\", \"per_page\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"5\"], [\"value\", \"10\"], [\"value\", \"15\"], [\"value\", \"20\"], [1, \"table-responsive-xl\"], [1, \"table\"], [1, \"thead-dark\"], [1, \"\"], [4, \"ngFor\", \"ngForOf\"], [\"previousLabel\", \"Anterior\", \"nextLabel\", \"Siguiente\", 3, \"pageChange\"], [4, \"ngIf\", \"ngIfElse\"], [\"otraimg\", \"\"], [\"type\", \"button\", \"data-toggle\", \"modal\", \"data-target\", \"#consultarModal\", 1, \"btn\", \"detalle-btn\", 2, \"border\", \"none\", \"background-color\", \"none\", 3, \"click\"], [1, \"fas\", \"fa-eye\", 2, \"color\", \"rgb(0, 89, 148)\", \"position\", \"relative\"], [1, \"detalle-text\"], [\"src\", \"https://localhost:3000/foto/defaultproduct.png\", \"alt\", \"Imagen del producto\", \"width\", \"50px\", \"height\", \"50px\", 2, \"border-radius\", \"20px\"], [\"alt\", \"Imagen del producto\", \"width\", \"100px\", \"height\", \"100px\", 2, \"border-radius\", \"20px\", 3, \"src\"]],\n  template: function ProductosComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\", 2);\n      i0.ɵɵelement(3, \"i\", 3);\n      i0.ɵɵtext(4, \" Productos \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\", 4)(6, \"button\", 5);\n      i0.ɵɵelement(7, \"i\", 6);\n      i0.ɵɵtext(8, \" Agregar \");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(9, \"div\", 7)(10, \"div\", 8)(11, \"div\", 9)(12, \"div\", 10)(13, \"h2\", 11);\n      i0.ɵɵelement(14, \"i\", 12);\n      i0.ɵɵtext(15, \" Agregar Producto \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"button\", 13)(17, \"span\", 14);\n      i0.ɵɵtext(18, \"\\u00D7\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(19, \"div\", 15);\n      i0.ɵɵelement(20, \"app-agregarprod\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"div\", 16)(22, \"button\", 17);\n      i0.ɵɵtext(23, \" Cerrar \");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(24, \"div\", 18)(25, \"div\", 8)(26, \"div\", 9)(27, \"div\", 10)(28, \"h2\", 11);\n      i0.ɵɵtext(29, \" Detalle del producto \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"button\", 13)(31, \"span\", 14);\n      i0.ɵɵtext(32, \"\\u00D7\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(33, \"div\", 15);\n      i0.ɵɵelement(34, \"app-consultarprod\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(35, \"div\", 16)(36, \"button\", 17);\n      i0.ɵɵtext(37, \" Cerrar \");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelement(38, \"hr\");\n      i0.ɵɵelementStart(39, \"div\", 19)(40, \"div\", 20)(41, \"div\", 21)(42, \"span\", 22);\n      i0.ɵɵelement(43, \"i\", 23);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(44, \"div\", 24)(45, \"label\");\n      i0.ɵɵtext(46, \"Buscar\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(47, \"input\", 25);\n      i0.ɵɵlistener(\"ngModelChange\", function ProductosComponent_Template_input_ngModelChange_47_listener($event) {\n        return ctx.buscarTexto = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(48, \"button\", 26);\n      i0.ɵɵelement(49, \"i\", 27);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(50, \"div\", 28)(51, \"div\", 29)(52, \"span\");\n      i0.ɵɵtext(53, \"Mostrar\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(54, \"select\", 30);\n      i0.ɵɵlistener(\"ngModelChange\", function ProductosComponent_Template_select_ngModelChange_54_listener($event) {\n        return ctx.nPag = $event;\n      });\n      i0.ɵɵelementStart(55, \"option\", 31);\n      i0.ɵɵtext(56, \"5\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(57, \"option\", 32);\n      i0.ɵɵtext(58, \"10\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(59, \"option\", 33);\n      i0.ɵɵtext(60, \"15\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(61, \"option\", 34);\n      i0.ɵɵtext(62, \"20\");\n      i0.ɵɵelementEnd()()()()()();\n      i0.ɵɵelementStart(63, \"div\", 35)(64, \"table\", 36)(65, \"thead\", 37)(66, \"tr\")(67, \"th\", 38);\n      i0.ɵɵtext(68, \"#\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(69, \"th\", 38);\n      i0.ɵɵtext(70, \"Nombre\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(71, \"th\", 38);\n      i0.ɵɵtext(72, \"No. de Parte\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(73, \"th\", 38);\n      i0.ɵɵtext(74, \"Proveedor\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(75, \"th\", 38);\n      i0.ɵɵtext(76, \"Tipo\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(77, \"th\", 38);\n      i0.ɵɵtext(78, \"Categor\\u00EDa\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(79, \"th\", 38);\n      i0.ɵɵtext(80, \"Descripci\\u00F3n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(81, \"th\", 38);\n      i0.ɵɵtext(82, \"Unidad\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(83, \"th\", 38);\n      i0.ɵɵtext(84, \"Precio\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(85, \"th\", 38);\n      i0.ɵɵtext(86, \"Existencia\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(87, \"th\", 38);\n      i0.ɵɵtext(88, \"Imagen\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(89, \"th\", 38);\n      i0.ɵɵtext(90, \"Acciones\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(91, \"tbody\");\n      i0.ɵɵtemplate(92, ProductosComponent_tr_92_Template, 29, 12, \"tr\", 39);\n      i0.ɵɵpipe(93, \"paginate\");\n      i0.ɵɵpipe(94, \"buscar\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(95, \"pagination-controls\", 40);\n      i0.ɵɵlistener(\"pageChange\", function ProductosComponent_Template_pagination_controls_pageChange_95_listener($event) {\n        return ctx.p = $event;\n      });\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(47);\n      i0.ɵɵproperty(\"ngModel\", ctx.buscarTexto);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.nPag);\n      i0.ɵɵadvance(38);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(93, 3, i0.ɵɵpipeBind2(94, 6, ctx.productos, ctx.buscarTexto), i0.ɵɵpureFunction2(9, _c0, ctx.nPag, ctx.p)));\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgModel, i4.PaginationControlsComponent, i5.ConsultarprodComponent, i6.AgregarprodComponent, i4.PaginatePipe, i7.BuscarPipe]\n});","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}